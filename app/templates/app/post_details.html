{% extends 'base.html' %} 

{% load static %}

{% block title %}{{ post.title }}{% endblock %} 

{% block content %}
<section class="single-post-content">
	<div class="container">
	  <div class="row">
		<div class="col-md-12 post-content" data-aos="fade-up">

		  	<!-- ======= Single Post Content ======= -->
			<div class="single-post">
				<div class="post-meta">
					<span class="date">{{ post.views_count }} view{{ post.views_count | pluralize:'s' }}</span> 
					<span class="mx-1">&bullet;</span> 
					<span>Jul 5th '22</span>
					<span class="mx-1">&bullet;</span> 
					{% for tag in post.tags.all %}
						<a href="{% url "tag_posts_list" %}?tag={{tag.slug}}">
							<span class="date">
								{{tag.name}}
							</span> 
						</a>
						{% if not forloop.last %}
							<span class="mx-1">&bullet;</span> 
						{% endif %}
					{% endfor %}
				</div>
				<h1 class="mb-5">{{ post.title }}</h1>
				<img src="{{ post.image.url }}" alt="" class="img-fluid">
				<p>
					{{ post.body }}
				</p>
			</div>
			<!-- End Single Post Content -->

			 {% include "app/post_comments.html" %}   

			<!-- ======= Comments Form ======= -->
			<div class="row justify-content-center mt-5">

				<div class="col-lg-12">
					<h5 class="comment-title">Leave a Comment</h5>
					<form class="row" method="post" action="/comment">
						{% csrf_token %}
						<input type="hidden" name="post_id" value="{{ post.id }}">
						<div class="col-lg-6 mb-3">
							 <input type="text" class="form-control" id="{{ comment_form.name.auto_id }}" name="{{ comment_form.name.html_name }}" placeholder="Enter your name">
						</div>
						<div class="col-lg-6 mb-3">
							 <input type="text" class="form-control" id="{{ comment_form.email.auto_id }}" name="{{ comment_form.email.html_name }}" placeholder="Enter your email">
						</div>
						<div class="col-12 mb-3">
							<textarea class="form-control" rows="4" cols="50" placeholder="Write your message..." id="{{ comment_form.body.auto_id }}" name="{{ comment_form.body.html_name }}"></textarea>
						</div>
						{{ comment_form.errors }}
						{% comment %} <div class="col-12"> {% endcomment %}
						<input type="submit" class="btn btn-primary col-lg-2 ms-3" value="Post comment">
						{% comment %} </div> {% endcomment %}
					</form>
				</div>
			</div>
			<!-- End Comments Form -->
		</div>
	  </div>
	</div>
  </section>
{% endblock %}
